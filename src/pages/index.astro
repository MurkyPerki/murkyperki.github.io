---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
// Show first 3 projects as featured
const featuredProjects = projects.slice(0, 3);
---
<Layout title="Max Burkhardt ‚Äî Portfolio">
  <Fragment slot="head">
    <!-- Open Graph tags -->
    <meta property="og:title" content="Max Burkhardt ‚Äî Game Developer Portfolio" />
    <meta property="og:description" content="Game development student passionate about gameplay programming, level design, and AI implementation." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://murkyperki.github.io/" />
  </Fragment>

  <!-- Hero Section -->
  <section class="hero container reveal" style="padding: var(--spacing-2xl) var(--spacing-md); text-align: center;">
    <h1 style="font-size: 3rem; margin-bottom: var(--spacing-sm);">Max Burkhardt</h1>
    <p style="font-size: 1.5rem; color: var(--color-text-muted); margin-bottom: var(--spacing-md);">Game Developer & Gameplay Programmer</p>
    <p style="font-size: 1.125rem; max-width: 600px; margin: 0 auto var(--spacing-xl); line-height: 1.8; color: var(--color-text-muted);">
      HvA student passionate about creating responsive movement systems, satisfying combat mechanics, and intelligent AI behavior.
    </p>
    <div style="display: flex; gap: var(--spacing-md); justify-content: center; flex-wrap: wrap;">
      <a href="/projects" class="btn">View Projects</a>
      <a href="/CV.pdf" target="_blank" rel="noopener" class="btn btn-secondary">Download CV</a>
    </div>
  </section>

  <!-- Featured Projects -->
  <section class="container reveal" style="padding: var(--spacing-xl) var(--spacing-md);">
    <h2 style="text-align: center; margin-bottom: var(--spacing-xl);">Featured Projects</h2>
    <div class="grid">
      {featuredProjects.map((project) => (
        <a href={`/projects/${project.slug}/`} class="card">
          {project.data.cover && (
            <img 
              src={project.data.cover} 
              alt={`${project.data.title} cover`}
              style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: var(--spacing-md);"
            />
          )}
          {!project.data.cover && (
            <div style="width: 100%; height: 200px; background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-border) 100%); border-radius: 8px; margin-bottom: var(--spacing-md); display: flex; align-items: center; justify-content: center; color: var(--color-text-muted); opacity: 0.5;">
              {project.data.title}
            </div>
          )}
          <h3>{project.data.title}</h3>
          {project.data.role && (
            <p style="font-size: 0.875rem; color: var(--color-primary); font-weight: 600; margin-bottom: var(--spacing-sm);">{project.data.role}</p>
          )}
          {project.data.pitch && (
            <p style="color: var(--color-text-muted); margin-bottom: var(--spacing-sm);">{project.data.pitch}</p>
          )}
          {project.data.highlights && project.data.highlights.length > 0 && (
            <div class="tags">
              {project.data.highlights.slice(0, 3).map((tag) => (
                <span class="tag">{tag}</span>
              ))}
            </div>
          )}
        </a>
      ))}
    </div>
    <div style="text-align: center; margin-top: var(--spacing-xl);">
      <a href="/projects" class="btn btn-secondary">View All Projects ‚Üí</a>
    </div>
  </section>

  <!-- About Me Snippet -->
  <section class="container reveal" style="padding: var(--spacing-xl) var(--spacing-md); background: var(--color-bg-secondary); border-radius: 12px; margin-bottom: var(--spacing-2xl);">
    <div class="content-narrow" style="text-align: center;">
      <h2 style="margin-bottom: var(--spacing-lg);">About Me</h2>
      <p style="font-size: 1.125rem; line-height: 1.8; color: var(--color-text-muted); margin-bottom: var(--spacing-lg);">
        I'm a game development student at HvA with a passion for gameplay programming, 
        level design, and AI implementation. I love making movement feel responsive and 
        combat satisfying.
      </p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-lg);">
        <div>
          <strong>üéÆ Focus Areas</strong>
          <p style="color: var(--color-text-muted); margin-top: var(--spacing-xs);">Gameplay Programming, Level Design</p>
        </div>
        <div>
          <strong>üõ†Ô∏è Tech Stack</strong>
          <p style="color: var(--color-text-muted); margin-top: var(--spacing-xs);">Unity, C#, JavaScript, Git</p>
        </div>
        <div>
          <strong>üéØ Interests</strong>
          <p style="color: var(--color-text-muted); margin-top: var(--spacing-xs);">AI, Physics, Combat Systems</p>
        </div>
      </div>
      <a href="/about" class="btn btn-secondary">Learn More About Me ‚Üí</a>
    </div>
  </section>
</Layout>

<style>
  /* Additional page-specific styles */
  @media (max-width: 768px) {
    .hero h1 {
      font-size: 2rem !important;
    }
    .hero p:first-of-type {
      font-size: 1.25rem !important;
    }
  }
</style>
