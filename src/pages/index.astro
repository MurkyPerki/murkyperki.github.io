---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

const allProjects = await getCollection("projects");
const featuredProjects = allProjects.slice(0, 3);
---

<Layout title="Max Burkhardt ‚Äî Game Developer" description="Game development student passionate about gameplay programming, level design, and AI implementation.">
  <!-- Hero Section -->
  <section class="hero container" style="padding: var(--spacing-xxl) var(--spacing-md); text-align: center;">
    <div class="reveal">
      <h1 style="font-size: 3.5rem; margin-bottom: var(--spacing-sm);">Max Burkhardt</h1>
      <p class="text-lg text-muted" style="max-width: 600px; margin: 0 auto var(--spacing-md);">
        Game Developer
      </p>
      <p class="text-lg" style="max-width: 700px; margin: 0 auto var(--spacing-xl);">
        I'm a game development student at HvA specializing in gameplay programming, level design, and AI. 
        I love crafting responsive movement systems and satisfying combat mechanics.
      </p>
      <div style="display: flex; gap: var(--spacing-md); justify-content: center; flex-wrap: wrap;">
        <a href="/projects" class="btn">View Projects</a>
        <a href="/CV.pdf" target="_blank" class="btn btn-secondary">Download CV</a>
      </div>
    </div>
  </section>

  <!-- Featured Projects -->
  <section class="container" style="padding: var(--spacing-xl) var(--spacing-md);">
    <div class="reveal">
      <h2 style="margin-bottom: var(--spacing-lg);">Featured Projects</h2>
      <div class="grid-3" style="margin-bottom: var(--spacing-lg);">
        {featuredProjects.map((project) => (
          <a href={`/projects/${project.slug}/`} class="card">
            {project.data.cover ? (
              <img 
                src={project.data.cover} 
                alt={project.data.title}
                style="width: 100%; aspect-ratio: 16/10; object-fit: cover; border-radius: 6px; margin-bottom: var(--spacing-sm);"
              />
            ) : (
              <div style="width: 100%; aspect-ratio: 16/10; background: linear-gradient(135deg, var(--color-card-hover) 0%, var(--color-border) 100%); border-radius: 6px; margin-bottom: var(--spacing-sm); display: flex; align-items: center; justify-content: center;">
                <span style="color: var(--color-muted); opacity: 0.4; font-size: 1.25rem; font-weight: 600;">{project.data.title}</span>
              </div>
            )}
            <h3 style="margin-bottom: 0.25rem;">{project.data.title}</h3>
            {project.data.pitch && (
              <p class="text-muted" style="font-size: 0.9375rem; margin-bottom: var(--spacing-sm);">
                {project.data.pitch}
              </p>
            )}
            {project.data.highlights && project.data.highlights.length > 0 && (
              <div class="tags">
                {project.data.highlights.slice(0, 3).map((tag) => (
                  <span class="tag">{tag}</span>
                ))}
              </div>
            )}
          </a>
        ))}
      </div>
      <div style="text-align: center;">
        <a href="/projects" style="color: var(--color-accent); text-decoration: none; font-weight: 600;">
          View all projects ‚Üí
        </a>
      </div>
    </div>
  </section>

  <!-- About Me Snippet -->
  <section class="container-narrow reveal" style="padding: var(--spacing-xl) var(--spacing-md) var(--spacing-xxl);">
    <div style="background: var(--color-card); border: 1px solid var(--color-border); border-radius: 8px; padding: var(--spacing-xl); text-align: center;">
      <h2 style="margin-bottom: var(--spacing-md);">About Me</h2>
      <p class="text-muted" style="margin-bottom: var(--spacing-lg);">
        Student at HvA with expertise in multiple areas of game development
      </p>
      <ul style="list-style: none; padding: 0; margin-bottom: var(--spacing-lg); display: grid; gap: var(--spacing-sm);">
        <li>‚öôÔ∏è <strong>Gameplay Programming:</strong> C#, Unity, MonoGame</li>
        <li>üéÆ <strong>Level Design:</strong> Spatial design, pacing, player guidance</li>
        <li>ü§ñ <strong>AI Systems:</strong> Behavior trees, pathfinding, decision-making</li>
        <li>üõ†Ô∏è <strong>Tools:</strong> Git, TypeScript, JavaScript</li>
      </ul>
      <a href="/about" class="btn btn-secondary">Learn More</a>
    </div>
  </section>
</Layout>
